#--
如果是 pjax 请求则只调用 main 函数
否则调用 doAdminLayout 函数
--#
#define adminLayout()
    #if(isPjax)
        #@main()
    #else
        #@doAdminLayout()
    #end
#end

#define doAdminLayout()
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Choxsu">
    <link rel="shortcut icon" href="/assets/favicon.ico"/>
    <link rel="bookmark" href="/assets/favicon.ico"/>
    <title>Choxsu后台管理</title>
    <!-- Bootstrap -->
    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/new/dashboard.css" rel="stylesheet"/>
    <link href="/assets/new/magic-input.min.css" rel="stylesheet">
    <!-- fa fa-icon-->
    <link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <!-- nprogress css-->
    <link href="/assets/nprogress/nprogress.css" rel="stylesheet"/>
    #@css?()
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/assets/new/js/jquery.min-v1.11.3.js"></script>
    <script src="/assets/new/js/jquery.form.min.js"></script>
    <script src="/assets/new/js/jquery.pjax.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
    <!-- nprogress js-->
    <script src="/assets/nprogress/nprogress.js"></script>
    <script src="/assets/new/js/layer/layer.js"></script>
    <!-- 后台管理 js -->
    <script src="/assets/new/js/choxsu.admin.js"></script>
    <!--定义额外js-->
    #@js?()
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/assets/bootstrap/js/html5shiv.min.js"></script>
    <script src="/assets/bootstrap/js/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!--navbar-inverse 黑色主题 navbar-default 默认主题-->
<nav class="navbar navbar-default navbar-fixed-top border-bottom-1">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/admin">Choxsu后台管理系统</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
               <!-- <li><a href="#">文档</a></li>
                <li class="update-password"><a href="#">更改密码</a></li>-->
                <li><a title="Github" href="https://github.com/choxsu"> <i class="fa fa-github" ></i></a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">#(loginAccount.nickName??) <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="/" target="_blank">前台页面</a></li>
                        <li role="separator"><a href="/logout">退出</a></li>
                    </ul>
                </li>
            </ul>
          <!--  <form class="navbar-form navbar-right">
                <input type="text" class="form-control" placeholder="Search...">
            </form>-->
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row">
        #include("_menu.html")
        <div id="pjax-container"  class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            #@main()
        </div>
    </div>
</div>
</body>
</html>
#end